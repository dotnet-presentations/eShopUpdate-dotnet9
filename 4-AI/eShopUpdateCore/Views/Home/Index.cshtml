@{
    ViewBag.Title = "Home Page";
}

<main>
	<p>Here are some of our amazing outdoor products that you can purchase.</p>

	@if (ViewBag.Products.Count == 0)
	{
		<p><em>There is a problem loading our products. Please try again later.</em></p>
	}
	else
	{
		<table class="table">
			<thead>
				<tr>
					<th>Image</th>
					<th>Name</th>
					<th>Description</th>
					<th>Price</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var product in ViewBag.Products)
				{
					<tr>
						<!-- Simulating images being hosted on a CDN -->
						<td>
							<a href="@Url.Action("Product", "Home", new { id = product.Id })">
								<img height="80" width="80" src="https://raw.githubusercontent.com/MicrosoftDocs/mslearn-dotnet-cloudnative/main/dotnet-docker/Products/wwwroot/images/@product.ImageUrl" />
							</a>
                        </td>			
						<td>@product.Name</td>
						<td>@product.Description</td>
						<td>@product.Price</td>
					</tr>
				}
			</tbody>
		</table>
	}
</main>